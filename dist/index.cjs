"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("react"),d=e=>{const[t,l]=n.useState(null);return n.useEffect(()=>{const c=o=>typeof o=="string"?document.querySelector(o):o.current,r=()=>{const o=c(e);l(o?o.getBoundingClientRect():null)},s=()=>{requestAnimationFrame(r)};return r(),window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("resize",s,{passive:!0}),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[e]),t},u={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},E=e=>{let t="xs";return e>=u["2xl"]?t="2xl":e>=u.xl?t="xl":e>=u.lg?t="lg":e>=u.md?t="md":e>=u.sm?t="sm":t="xs",{current:t,xs:e<u.sm,sm:e>=u.sm&&e<u.md,md:e>=u.md&&e<u.lg,lg:e>=u.lg&&e<u.xl,xl:e>=u.xl&&e<u["2xl"],"2xl":e>=u["2xl"]}},v=()=>{const[e,t]=n.useState({width:0,height:0}),[l,c]=n.useState({current:"xs",xs:!0,sm:!1,md:!1,lg:!1,xl:!1,"2xl":!1}),r=n.useRef(null),s=n.useRef(null),o=n.useCallback(()=>{if(r.current){const{offsetWidth:f,offsetHeight:g}=r.current,m=window.innerWidth-document.documentElement.clientWidth;t({width:f,height:g}),c(E(f+m))}},[]),i=n.useCallback(()=>{s.current&&(r.current&&s.current.unobserve(r.current),s.current.disconnect())},[]),a=n.useCallback(()=>{i(),s.current=new ResizeObserver(o),r.current&&s.current.observe(r.current),o()},[i,o]);return n.useEffect(()=>(a(),()=>{i()}),[a,i]),{size:e,breakpoint:l,elementRef:r,connect:a,disconnect:i}},b=e=>{const[t,l]=n.useState(!0),[c,r]=n.useState();return n.useEffect(()=>{if(!e){l(!1);return}const s=new Image;s.src=e,s.onload=()=>l(!1),s.onerror=o=>{l(!1),r(o)}},[e]),{loading:t,error:c}};function R(e,t){const l=n.useRef(t),[c,r]=n.useState(()=>{if(typeof window>"u")return t;try{const o=window.localStorage.getItem(e);return o?JSON.parse(o):t}catch{return t}});n.useEffect(()=>{if(!(typeof window>"u"))try{const o=window.localStorage.getItem(e);o?r(JSON.parse(o)):window.localStorage.setItem(e,JSON.stringify(l.current))}catch(o){console.error(`Error reading localStorage key "${e}":`,o)}},[e]);const s=n.useCallback(o=>{try{r(i=>{const a=o instanceof Function?o(i):o;return localStorage.setItem(e,JSON.stringify(a)),a})}catch(i){console.error(`Error setting localStorage key "${e}":`,i)}},[e]);return[c,s]}const p=(e,t)=>{const l=n.useRef(e);n.useEffect(()=>{l.current=e},[e]),n.useEffect(()=>{let c;function r(){const s=l.current();s instanceof Promise?s.then(()=>{t&&(c=setTimeout(r,t))}):t&&(c=setTimeout(r,t))}if(t)return c=setTimeout(r,t),()=>c&&clearTimeout(c)},[t])},x=()=>{const[e,t]=n.useState(null),[l,c]=n.useState({scrollY:0,scrollPercentage:0,isAtTop:!0,isAtBottom:!1,scrollableHeight:0,clientHeight:0,scrollHeight:0}),r=n.useCallback(s=>{t(s)},[]);return n.useEffect(()=>{if(!e)return;const s=()=>{const{scrollTop:a,scrollHeight:f,clientHeight:g}=e,m=f-g;if(m<=0){c({scrollY:0,scrollPercentage:0,isAtTop:!0,isAtBottom:!0,scrollableHeight:0,clientHeight:g,scrollHeight:f});return}const S=Math.min(100,Math.max(0,a/m*100));c({scrollY:a,scrollPercentage:S,isAtTop:a<=0,isAtBottom:a>=m-1,scrollableHeight:m,clientHeight:g,scrollHeight:f})};s();const o=()=>{s()};e.addEventListener("scroll",o,{passive:!0});const i=new ResizeObserver(()=>{s()});return i.observe(e),()=>{e.removeEventListener("scroll",o),i.unobserve(e)}},[e]),{...l,element:e,setRef:r}};function T(e){const t=n.useRef([]),l=n.useCallback(r=>{if(t.current[r]&&(t.current[r].scrollIntoView({behavior:"smooth",block:"start",inline:"start",...e}),e?.offset)){const s=t.current[r].getBoundingClientRect().top+window.scrollY-e.offset;window.scrollTo({top:s,behavior:e.behavior||"smooth"})}},[e]),c=n.useCallback((r,s)=>{t.current[s]=r},[]);return{elementRefs:t,setElementRef:c,scrollToElement:l}}exports.useElementRect=d;exports.useElementSize=v;exports.useImageLoader=b;exports.useLocalStorage=R;exports.useRecursiveTimeout=p;exports.useScrollPosition=x;exports.useScrollToElements=T;
