"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const s=require("react"),E=(e=!0)=>{s.useEffect(()=>{if(!e)return;const t=window.scrollY,l=/iPad|iPhone|iPod/.test(navigator.userAgent),o={documentElement:{overflow:document.documentElement.style.overflow,height:document.documentElement.style.height,position:document.documentElement.style.position,width:document.documentElement.style.width},body:{overflow:document.body.style.overflow,height:document.body.style.height,position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,right:document.body.style.right,width:document.body.style.width,webkitOverflowScrolling:document.body.style.getPropertyValue("-webkit-overflow-scrolling")}};if(document.documentElement.style.overflow="hidden",document.documentElement.style.height="100%",document.documentElement.style.position="fixed",document.documentElement.style.width="100%",document.body.style.overflow="hidden",document.body.style.height="100%",document.body.style.position="fixed",document.body.style.top=`-${t}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",l){document.body.style.setProperty("-webkit-overflow-scrolling","touch");const r=i=>{(i.target===document.body||i.target===document.documentElement||i.target===window)&&(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation())},c=()=>{window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0},n=["scroll","touchmove","touchstart","touchend"];n.forEach(i=>{window.addEventListener(i,r,{passive:!1,capture:!0}),document.addEventListener(i,r,{passive:!1,capture:!0}),document.body.addEventListener(i,r,{passive:!1,capture:!0})});const u=setInterval(c,16);return()=>{clearInterval(u),n.forEach(i=>{window.removeEventListener(i,r,{capture:!0}),document.removeEventListener(i,r,{capture:!0}),document.body.removeEventListener(i,r,{capture:!0})}),document.documentElement.style.overflow=o.documentElement.overflow,document.documentElement.style.height=o.documentElement.height,document.documentElement.style.position=o.documentElement.position,document.documentElement.style.width=o.documentElement.width,document.body.style.overflow=o.body.overflow,document.body.style.height=o.body.height,document.body.style.position=o.body.position,document.body.style.top=o.body.top,document.body.style.left=o.body.left,document.body.style.right=o.body.right,document.body.style.width=o.body.width,o.body.webkitOverflowScrolling?document.body.style.setProperty("-webkit-overflow-scrolling",o.body.webkitOverflowScrolling):document.body.style.removeProperty("-webkit-overflow-scrolling"),window.scrollTo(0,t)}}return()=>{document.documentElement.style.overflow=o.documentElement.overflow,document.documentElement.style.height=o.documentElement.height,document.documentElement.style.position=o.documentElement.position,document.documentElement.style.width=o.documentElement.width,document.body.style.overflow=o.body.overflow,document.body.style.height=o.body.height,document.body.style.position=o.body.position,document.body.style.top=o.body.top,document.body.style.left=o.body.left,document.body.style.right=o.body.right,document.body.style.width=o.body.width,window.scrollTo(0,t)}},[e])},S=e=>{const[t,l]=s.useState(null);return s.useEffect(()=>{const o=n=>typeof n=="string"?document.querySelector(n):n.current,r=()=>{const n=o(e);l(n?n.getBoundingClientRect():null)},c=()=>{requestAnimationFrame(r)};return r(),window.addEventListener("scroll",c,{passive:!0}),window.addEventListener("resize",c,{passive:!0}),()=>{window.removeEventListener("scroll",c),window.removeEventListener("resize",c)}},[e]),t};function L(e,t){t===void 0&&(t=0);var l=s.useRef(!1),o=s.useRef(),r=s.useRef(e),c=s.useCallback(function(){return l.current},[]),n=s.useCallback(function(){l.current=!1,o.current&&clearTimeout(o.current),o.current=setTimeout(function(){l.current=!0,r.current()},t)},[t]),u=s.useCallback(function(){l.current=null,o.current&&clearTimeout(o.current)},[]);return s.useEffect(function(){r.current=e},[e]),s.useEffect(function(){return n(),u},[t]),[c,u,n]}function T(e,t,l){t===void 0&&(t=0),l===void 0&&(l=[]);var o=L(e,t),r=o[0],c=o[1],n=o[2];return s.useEffect(n,l),[r,c]}const w={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},x=e=>{let t="xs";return e>=w["2xl"]?t="2xl":e>=w.xl?t="xl":e>=w.lg?t="lg":e>=w.md?t="md":e>=w.sm?t="sm":t="xs",{current:t,xs:e<w.sm,sm:e>=w.sm&&e<w.md,md:e>=w.md&&e<w.lg,lg:e>=w.lg&&e<w.xl,xl:e>=w.xl&&e<w["2xl"],"2xl":e>=w["2xl"]}},R=(e=200)=>{const[t,l]=s.useState({width:0,height:0}),[o,r]=s.useState({current:"xs",xs:!0,sm:!1,md:!1,lg:!1,xl:!1,"2xl":!1}),[c,n]=s.useState({width:0,height:0}),u=s.useRef(null),i=s.useRef(null);return T(()=>{n(t)},e,[t]),s.useEffect(()=>{const d=()=>{const a=u.current??document.body;if(!a)return;const{offsetWidth:h,offsetHeight:g}=a;l(v=>v.width!==h||v.height!==g?{width:h,height:g}:v),r(v=>{const y=x(h);return v.current!==y.current?y:v})},m=()=>{const a=u.current??document.body;a&&(d(),i.current&&i.current.disconnect(),i.current=new ResizeObserver(()=>{requestAnimationFrame(()=>{d()})}),i.current.observe(a))},f=()=>{i.current&&(i.current.disconnect(),i.current=null)};return m(),()=>{f()}},[]),{size:c,breakpoint:o,ref:u}},V=e=>{const[t,l]=s.useState(!0),[o,r]=s.useState();return s.useEffect(()=>{if(!e){l(!1);return}const c=new Image;c.src=e,c.onload=()=>l(!1),c.onerror=n=>{l(!1),r(n)}},[e]),{loading:t,error:o}};function P(e,t){const l=s.useRef(t),[o,r]=s.useState(()=>{if(typeof window>"u")return t;try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch{return t}});s.useEffect(()=>{if(!(typeof window>"u"))try{const n=window.localStorage.getItem(e);n?r(JSON.parse(n)):window.localStorage.setItem(e,JSON.stringify(l.current))}catch(n){console.error(`Error reading localStorage key "${e}":`,n)}},[e]);const c=s.useCallback(n=>{try{r(u=>{const i=n instanceof Function?n(u):n;return localStorage.setItem(e,JSON.stringify(i)),i})}catch(u){console.error(`Error setting localStorage key "${e}":`,u)}},[e]);return[o,c]}const z=(e,t)=>{const l=s.useRef(e);s.useEffect(()=>{l.current=e},[e]),s.useEffect(()=>{let o;function r(){const c=l.current();c instanceof Promise?c.then(()=>{t&&(o=setTimeout(r,t))}):t&&(o=setTimeout(r,t))}if(t)return o=setTimeout(r,t),()=>o&&clearTimeout(o)},[t])},H=()=>{const[e,t]=s.useState(null),[l,o]=s.useState({scrollY:0,scrollPercentage:0,isAtTop:!0,isAtBottom:!1,scrollableHeight:0,clientHeight:0,scrollHeight:0}),r=s.useCallback(c=>{t(c)},[]);return s.useEffect(()=>{if(!e)return;const c=()=>{const{scrollTop:i,scrollHeight:d,clientHeight:m}=e,f=d-m;if(f<=0){o({scrollY:0,scrollPercentage:0,isAtTop:!0,isAtBottom:!0,scrollableHeight:0,clientHeight:m,scrollHeight:d});return}const a=Math.min(100,Math.max(0,i/f*100));o({scrollY:i,scrollPercentage:a,isAtTop:i<=0,isAtBottom:i>=f-1,scrollableHeight:f,clientHeight:m,scrollHeight:d})};c();const n=()=>{c()};e.addEventListener("scroll",n,{passive:!0});const u=new ResizeObserver(()=>{c()});return u.observe(e),()=>{e.removeEventListener("scroll",n),u.unobserve(e)}},[e]),{...l,element:e,setRef:r}};function k(e){const t=s.useRef([]),l=s.useCallback(r=>{if(t.current[r]&&(t.current[r].scrollIntoView({behavior:"smooth",block:"start",inline:"start",...e}),e?.offset)){const c=t.current[r].getBoundingClientRect().top+window.scrollY-e.offset;window.scrollTo({top:c,behavior:e.behavior||"smooth"})}},[e]),o=s.useCallback((r,c)=>{t.current[c]=r},[]);return{elementRefs:t,setElementRef:o,scrollToElement:l}}const b=()=>{const[e,t]=s.useState({x:0,y:0,percent:{x:0,y:0}});return s.useEffect(()=>{const l=()=>{const n=window.scrollX||0,u=window.scrollY||0,i=/iPad|iPhone|iPod/.test(navigator.userAgent),d=window.visualViewport,m=i&&d?d.width:window.innerWidth,f=i&&d?d.height:window.innerHeight,a=Math.max(0,document.documentElement.scrollWidth-m),h=Math.max(0,document.documentElement.scrollHeight-f),g=a===0?0:Math.min(100,n/a*100),v=h===0?0:Math.min(100,u/h*100);t({x:n,y:u,percent:{x:Math.floor(Math.max(0,g)),y:Math.floor(Math.max(0,v))}})};l();const o=()=>{l()},r=()=>{setTimeout(l,100)},c=()=>{setTimeout(l,50)};return window.addEventListener("scroll",o,{passive:!0}),window.addEventListener("resize",r),window.addEventListener("orientationchange",r),window.visualViewport&&window.visualViewport.addEventListener("resize",c),()=>{window.removeEventListener("scroll",o),window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r),window.visualViewport&&window.visualViewport.removeEventListener("resize",c)}},[]),e},I=(e={})=>{const{enabled:t=!0,useWheel:l=!1,debounceDelay:o=150,threshold:r=100}=e,{percent:c}=b(),n=s.useRef(null),u=s.useRef(0),i=s.useRef(!1),d=s.useRef(!1),m=s.useRef(!1);s.useEffect(()=>{t&&(u.current=window.scrollY,m.current=!1)},[t]),s.useEffect(()=>{if(!t)return;if(c.y>=r)m.current=!0;else if(!m.current&&!d.current){const p=window.scrollY;p>u.current&&(u.current=p)}const f=()=>{!i.current&&!d.current&&(d.current=!0,window.scrollTo({top:u.current,behavior:"smooth"}),setTimeout(()=>{d.current=!1},500))},a=()=>{i.current=!0,d.current=!1,n.current&&(clearTimeout(n.current),n.current=null)},h=()=>{i.current=!1,c.y>=r&&(n.current=setTimeout(f,o))},g=()=>{i.current=!1,c.y>=r&&(n.current=setTimeout(f,o))},v=p=>{c.y>=r&&p.deltaY>0&&p.preventDefault()},y=()=>{i.current||d.current||c.y>=r&&(n.current=setTimeout(f,o))};return document.addEventListener("touchstart",a,{passive:!0}),document.addEventListener("touchend",h,{passive:!0}),document.addEventListener("touchcancel",g,{passive:!0}),window.addEventListener("scroll",y,{passive:!0}),l&&window.addEventListener("wheel",v,{passive:!1}),()=>{document.removeEventListener("touchstart",a),document.removeEventListener("touchend",h),document.removeEventListener("touchcancel",g),window.removeEventListener("scroll",y),l&&window.removeEventListener("wheel",v),n.current&&clearTimeout(n.current)}},[c.y,t,l,o,r])},O=(e={})=>{const{isInApp:t=!1,debounce:l=100}=e,[o,r]=s.useState({width:0,height:0,offsetLeft:0,offsetTop:0,pageLeft:0,pageTop:0,scale:1}),c=s.useCallback(()=>{const u=window.innerHeight,i=window.visualViewport?.height||u,d=document.documentElement.clientHeight,m=document.body.clientHeight;return window.visualViewport&&Math.abs(i-u)>100?i:Math.max(u,d,m)},[]),n=s.useCallback(()=>{if(window.visualViewport&&!t)return window.visualViewport;const u=window.visualViewport?.width||window.innerWidth,i=t?c():window.visualViewport?.height||window.innerHeight;return{width:u,height:i,offsetLeft:window.visualViewport?.offsetLeft||0,offsetTop:window.visualViewport?.offsetTop||0,pageLeft:window.scrollX??window.pageXOffset??0,pageTop:window.scrollY??window.pageYOffset??0,scale:window.visualViewport?.scale||1}},[t,c]);return s.useEffect(()=>{let u;const i=()=>{clearTimeout(u),u=setTimeout(()=>{r(n())},l)},d=()=>r(n());d();const m=["resize","orientationchange"];t&&m.push("focus","blur","touchstart","touchend"),m.forEach(a=>{a==="resize"||a==="orientationchange"?window.addEventListener(a,i):window.addEventListener(a,d,{passive:!0})}),window.visualViewport&&(window.visualViewport.addEventListener("resize",d),window.visualViewport.addEventListener("scroll",d));let f;if(t){let a=n().height;f=setInterval(()=>{const h=n().height;Math.abs(h-a)>50&&(a=h,d())},500)}return()=>{clearTimeout(u),f&&clearInterval(f),m.forEach(a=>{window.removeEventListener(a,a==="resize"||a==="orientationchange"?i:d)}),window.visualViewport&&(window.visualViewport.removeEventListener("resize",d),window.visualViewport.removeEventListener("scroll",d))}},[n,t,l]),o};exports.useBodyScrollLock=E;exports.useElementRect=S;exports.useElementSize=R;exports.useImageLoader=V;exports.useLocalStorage=P;exports.useRecursiveTimeout=z;exports.useScrollBounceBack=I;exports.useScrollPosition=H;exports.useScrollToElements=k;exports.useViewport=O;exports.useWindowScroll=b;
